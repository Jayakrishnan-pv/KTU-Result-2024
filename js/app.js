const passNumber = [31, 268, 80, 10, 23, 95, 341, 60, 52, 46, 123, 190, 10, 21, 63, 8, 78, 77, 59, 48, 189, 79, 55, 118, 35, 85, 174, 143, 697, 111, 57, 231, 13, 83, 302, 305, 138, 263, 545, 156, 271, 226, 5, 18, 16, 4, 71, 115, 16, 29, 83, 35, 243, 35, 57, 106, 2, 191, 253, 53, 4, 23, 36, 18, 51, 471, 58, 95, 145, 165, 15, 171, 63, 8, 34, 12, 380, 46, 3, 2, 30, 35, 9, 348, 68, 7, 476, 0, 40, 90, 33, 282, 42, 5, 184, 5, 193, 12, 43, 7, 182, 312, 37, 61, 28, 38, 250, 34, 59, 69, 22, 638, 132, 180, 12, 11, 36, 83, 91, 68, 71, 16, 286, 90, 261, 7, 224, 44];
const totalCount = [150, 468, 151, 80, 124, 265, 609, 183, 161, 107, 238, 251, 14, 40, 90, 47, 184, 180, 103, 112, 296, 134, 104, 207, 83, 167, 286, 233, 789, 214, 134, 415, 22, 172, 432, 393, 301, 427, 711, 322, 355, 344, 23, 107, 46, 19, 200, 209, 67, 89, 201, 128, 459, 153, 82, 309, 33, 314, 327, 185, 31, 196, 143, 99, 319, 629, 173, 212, 284, 311, 62, 400, 210, 15, 135, 56, 483, 127, 76, 42, 111, 133, 107, 433, 159, 18, 625, 28, 99, 210, 83, 364, 143, 27, 351, 51, 338, 36, 101, 36, 350, 500, 82, 162, 97, 85, 480, 113, 135, 146, 67, 833, 247, 312, 41, 72, 79, 269, 258, 124, 179, 75, 558, 233, 456, 26, 318, 198]
const collegeNames = ["ACE COLLEGE OF ENGINEERING", "ADI SHANKARA INSTITUTE OF ENGG AND TECHNOLOGY", "AHALIA SCHOOL OF ENGINEERING AND TECHNOLOGY", "AL AZHAR COLLEGE OF ENGINEERING AND TECHNOLOGY", "AL-AMEEN COLLEGE, KULAPPULLY, SHORANUR-2", "ALBERTIAN INSTITUTE OF SCIENCE AND TECHNOLOGY (AISAT)- TECHNICAL CAMPUS", "AMAL JYOTHI COLLEGE OF ENGINEERING", "AWH ENGINEERING COLLEGE", "BASELIOS MATHEWS II COLLEGE OF ENGINEERING", "BISHOP JEROME INSTITUTE", "CARMEL COLLEGE OF ENGINEERING AND TECHNOLOGY", "CHRIST COLLEGE OF ENGINEERING", "CHRIST KNOWLEDGE CITY", "COLLEGE OF ENGINEERING, KOTTARAKKARA", "COLLEGE OF ENGINEERING KALLOOPPARA", "COLLEGE OF ENGINEERING & TECHNOLOGY-PAYYANUR", "COLLEGE OF ENGINEERING ADOOR", "COLLEGE OF ENGINEERING AND MANAGEMENT, PUNNAPRA", "COLLEGE OF ENGINEERING ARANMULA", "COLLEGE OF ENGINEERING ATTINGAL", "COLLEGE OF ENGINEERING CHENGANNUR", "COLLEGE OF ENGINEERING CHERTHALA", "COLLEGE OF ENGINEERING KARUNAGAPPALLY", "COLLEGE OF ENGINEERING KIDANGOOR", "COLLEGE OF ENGINEERING MUNNAR", "COLLEGE OF ENGINEERING MUTTATHARA", "COLLEGE OF ENGINEERING PERUMON", "COLLEGE OF ENGINEERING TRIKARIPUR", "COLLEGE OF ENGINEERING TRIVANDRUM", "COLLEGE OF ENGINEERING VADAKARA", "COLLEGE OF ENGINEERING, PATHANAPURAM", "COLLEGE OF ENGINEERING, THALASSERY", "COLLEGE OF ENGINEERING, POONJAR", "ERANAD KNOWLEDGECITY TECHNICAL CAMPUS", "FEDERAL INSTITUTE OF SCIENCE AND TECHNOLOGY (FISAT)", "GOVERNMENT COLLEGE OF ENGINEERING KANNUR", "GOVERNMENT ENGINEERING COLLEGE IDUKKI", "GOVERNMENT ENGINEERING COLLEGE SREEKRISHNAPURAM", "GOVERNMENT ENGINEERING COLLEGE THRISSUR", "GOVERNMENT ENGINEERING COLLEGE, WAYANAD", "GOVT. ENGINEERING COLLEGE, BARTON HILL", "GOVT. ENGINEERING COLLEGE, KOZHIKODE", "GURUDEVA INSTITUTE OF SCIENCE AND TECHNOLOGY", "HEERA COLLEGE OF ENGINEERING AND TECHNOLOGY (HCET)", "HOLY GRACE ACADEMY OF ENGINEERING", "ICCS COLLEGE OF ENGINEERING AND MANAGEMENT", "IES COLLEGE OF ENGINEERING", "ILAHIA COLLEGE OF ENGINEERING & TECHNOLOGY", "INDIRA GANDHI INSTITUTE OF ENGINEERING & TECHNOLOGY", "JAIBHARATH COLLEGE OF MANAGEMENT & ENGINEERING TECHNOLOGY", "JAWAHARLAL COLLEGE OF ENGINEERING AND TECHNOLOGY", "JOHN COX MEMORIAL CSI INSTITUTE OF TECHNOLOGY", "JYOTHI ENGINEERING COLLEGE", "KMCT COLLEGE OF ENGINEERING", "KMCT COLLEGE OF ENGINEERING FOR WOMEN", "KMEA ENGINEERING COLLEGE", "KOTTAYAM INSTITUTE OF TECHNOLOGY AND SCIENCE", "LBS COLLEGE OF ENGINEERING", "LBS INSTITUTE OF TECHNOLOGY FOR WOMEN, POOJAPPURA", "LOURDES MATHA COLLEGE OF SCIENCE AND TECHNOLOGY", "M G COLLEGE OF ENGINEERING", "M.DASAN INSTITUTE OF TECHNOLOGY", "MAHAGURU INSTITUTE OF TECHNOLOGY", "MALABAR COLLEGE OF ENGINEERING & TECHNOLOGY", "MANGALAM COLLEGE OF ENGINEERING", "MAR ATHANASIUS COLLEGE OF ENGINEERING, KOTHAMANGALAM", "MAR BASELIOS CHRISTIAN COLLEGE OF ENGINEERING & TECHNOLOGY", "MAR BASELIOS INSTITUTE OF TECHNOLOGY AND SCIENCE", "MARIAN ENGINEERING COLLEGE", "MEA ENGINEERING COLLEGE, PERINTHALMANNA", "MES COLLEGE OF ENGINEERING & TECHNOLOGY", "MES COLLEGE OF ENGINEERING, KUTTIPPURAM", "MES INSTITUTE OF TECHNOLOGY AND MANAGEMENT", "MET'S SCHOOL OF ENGINEERING, MALA", "MGM COLLEGE OF ENGINEERING AND PHARMACEUTICAL SCIENCES", "MGM COLLEGE OF ENGINEERING AND TECHNOLOGY", "MODEL ENGINEERING COLLEGE", "MOHANDAS COLLEGE OF ENGINEERING AND TECHNOLOGY", "MOUNT ZION COLLEGE OF ENGINEERING", "MOUNT ZION INSTITUTE OF SCIENCE AND TECHNOLOGY", "MUSALIAR COLLEGE OF ENGINEERING", "MUSALIAR COLLEGE OF ENGINEERING AND TECHNOLOGY PATHANAMTHITTA", "MUSLIM ASSOCIATION COLLEGE OF ENGINEERING", "MUTHOOT INSTITUTE OF TECHNOLOGY & SCIENCE", "NEHRU COLLEGE OF ENGINEERING AND RESEARCH CENTRE", "NIRMALA COLLEGE OF ENGINEERING TECHNOLOGY AND MANAGEMENT", "NSS COLLEGE OF ENGINEERING", "P.A. AZIZ COLLEGE OF ENGINEERING & TECHNOLOGY", "PROVIDENCE COLLEGE OF ENGINEERING", "RAJADHANI INSTITUTE OF ENGINEERING AND TECHNOLOGY", "Rajadhani Institute of Science and Technology", "RAJIV GANDHI INSTITUTE OF TECHNOLOGY, KOTTAYAM", "ROYAL COLLEGE OF ENGINEERING & TECHNOLOGY", "SADGURU SWAMY NITHYANANDA INSTITUTE OF TECHNOLGY", "SAHRDAYA COLLEGE OF ENGINEERING & TECHNOLOGY", "SARABHAI INSTITUTE OF SCIENCE AND TECHNOLOGY", "SCMS SCHOOL OF ENGINEERING AND TECHNOLOGY", "SNGIST GROUP OF INSTITUTIONS", "SNM INSTITUTE OF MANAGEMENT AND TECHNOLOGY", "SREE BUDDHA COLLEGE OF ENGINEERING, AYATHIL, ELAVUMTHITTA", "SREE BUDDHA COLLEGE OF ENGINEERING, PATTOOR", "SREE CHITRA THIRUNAL COLLEGE OF ENGINEERING", "SREE NARAYANA GURU COLLEGE OF ENGINEERING & TECHNOLOGY", "SREE NARAYANA GURUKULAM COLLEGE OF ENGINEERING", "SREE NARAYANA INSTITUTE OF TECHNOLOGY, ADOOR", "SREEPATHY INSTITUTE OF MANAGEMENT AND TECHNOLOGY", "ST JOSEPHS COLLEGE OF ENGINEERING AND TECHNOLOGY PALAI", "ST. THOMAS INSTITUTE FOR SCIENCE & TECHNOLOGY", "ST.THOMAS COLLEGE OF ENGINEERING & TECHNOLOGY, CHENGANNUR", "ST.THOMAS COLLEGE OF ENGINEERING AND TECHNOLOGY, MATTANUR", "THEJUS ENGINEERING COLLEGE", "TKM COLLEGE OF ENGINEERING", "TKM INSTITUTE OF TECHNOLOGY", "TOC H INSTITUTE OF SCIENCE & TECHNOLOGY", "TOMS COLLEGE OF ENGINEERING", "TRAVANCORE ENGINEERING COLLEGE, OYOOR", "TRINITY COLLEGE OF ENGINEERING", "UKF COLLEGE OF ENGINEERING & TECHNOLOGY", "UNIVERSAL ENGINEERING COLLEGE", "UNIVERSITY COLLEGE OF ENGINEERING", "VALIA KOONAMBAIKULATHAMMA COLLEGE OF ENGINEERING AND TECHNOLOGY", "VEDAVYASA INSTITUTE OF TECHNOLOGY", "VIDYA ACADEMY OF SCIENCE AND TECHNOLOGY", "VIDYA ACADEMY OF SCIENCE AND TECHNOLOGY TECHNICAL CAMPUS", "VIMALJYOTHI ENGINEERING COLLEGE", "VISAT ENGINEERING COLLEGE", "VISWAJYOTHI COLLEGE OF ENGINEERING & TECHNOLOGY", "YOUNUS COLLEGE OF ENGINEERING AND TECHNOLOGY"]

function addUP(arr1, arr2, arr3) {
  const ary = [];
  for (let i = 0; i < arr1.length; i++) {
    const passObj = {
      id: i + 1,
      name: arr3[i],
      total: arr2[i],
      pass: arr1[i],
      percentage: arr1[i] / arr2[i] * 100
    };
    ary.push(passObj);
  }
  return ary;
}

const final = addUP(passNumber, totalCount, collegeNames);

function sortByPercentageDescending(arr) {
  return arr.sort((a, b) => b.percentage - a.percentage);
}

const sortedFinal = sortByPercentageDescending(final);

const tableBody = document.getElementById('myTable');

function populateTable(data) {


  data.forEach((item, index) => {

    const row = document.createElement('tr');
    const rankCell = document.createElement('td');
    const nameCell = document.createElement('td');
    const totalCell = document.createElement('td');
    const passCell = document.createElement('td');
    const percentageCell = document.createElement('td');

    rankCell.textContent = index + 1;
    row.appendChild(rankCell);
    nameCell.textContent = item.name;
    row.appendChild(nameCell);
    totalCell.textContent = item.total;
    row.appendChild(totalCell);
    passCell.textContent = item.pass
    row.appendChild(passCell);
    percentageCell.textContent = item.percentage.toFixed(2) + '%';
    row.appendChild(percentageCell);
    tableBody.appendChild(row);

  })
}
// ALTERNATE WAY OF DOING THE SAME THING
// function populateTable(data) {
//   let tableHTML = '';
//
//   data.forEach((item, index) => {
//     tableHTML += `<tr>
//       <td>${index + 1}</td>
//       <td>${item.name}</td>
//       <td>${item.total}</td>
//       <td>${item.pass}</td>
//       <td>${item.percentage.toFixed(2)}%</td>
//     </tr>`;
//   });
//
//   // Assuming tableBody is the <tbody> element of your table
//   tableBody.innerHTML = tableHTML;
// }

populateTable(sortedFinal);

const sortBy = document.getElementById('sortBy');

sortBy.addEventListener('change', (e) => {
  let sortedByPercentage;
  switch (e.target.value) {
    case 'highest':
      sortedByPercentage = sortByPercentageDescending(final);
      break;
    case 'lowest':
      sortedByPercentage = final.sort((a, b) => a.percentage - b.percentage);
      break;
    case 'highStudents':
      sortedByPercentage = final.sort((a, b) => b.total - a.total);
      break;
    case 'lowStudents':
      sortedByPercentage = final.sort((a, b) => a.total - b.total);
      break;
    default:
      return; // Exit if none of the above options match
  }

  // Clear the table but keep the header
  while (tableBody.children.length > 1) {
    tableBody.removeChild(tableBody.lastChild);
  }

  // Repopulate the table with sorted data
  populateTable(sortedByPercentage);
});
console.log(sortBy.value);

